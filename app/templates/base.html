<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>
    {% block title %}
    	
    {% endblock %}
  </title>
  {% block style %}
  	<link href="/static/css/base.css" rel="stylesheet">
  {% endblock %}

</head>
<body>
  <div class="topnav">
    <a class="active" href="{{ url_for('home') }}">Home</a>
    {% if user %}
    	<a href="/profile">Your profile</a>
      <a href="/chat">Chats</a>
      <a href="/logout">Log out</a>
    {% else %}
      <a href="/login">Login</a>
      <a href="/register">Register</a>
    {% endif %}
  </div>
  {% block content %}
  	
  {% endblock %}
  <div id="toast" class="toast"></div>

  <script>
      function showToast(message, type = 'error') {
          const toast = document.getElementById('toast');
          toast.textContent = message;
          toast.className = `toast ${type} show`;

          setTimeout(() => {
              toast.className = 'toast';
          }, 5000);
      }

      document.addEventListener('DOMContentLoaded', () => {
          const message = '{{ request.headers.get("X-Message", "") }}';
          const messageType = '{{ request.headers.get("X-Message-Type", "") }}';

          if (message) {
              showToast(message, messageType);
          }
      });
  </script>


</body>
</html>